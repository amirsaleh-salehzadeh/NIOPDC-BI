<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="aip.common.dashboard.DashboardENT" table="bidashboard" >
        <id name="id" type="java.lang.Integer">
            <column name="ID" />
            <generator class="native" />
        </id>
        <property name="caption" type="java.lang.String">
            <column name="Caption"/>
        </property>
        <property name="dashboardNo" type="java.lang.Integer">
            <column name="DashboardNo"/>
        </property>
        <property name="dashboardQuery" type="java.lang.String">
            <column name="DashboardQuery"/>
        </property>
        <property name="diagramType" type="java.lang.Integer">
            <column name="DiagramType"/>
        </property>
        <property name="userName" type="java.lang.String">
            <column name="UserName"/>
        </property>
        <property name="groupId" type="java.lang.Integer">
            <column name="F_SCGroupID"/>
        </property>

    </class>
    <sql-query name="sqlGetUserDashboards" read-only="true">
    	<return class="aip.common.dashboard.DashboardENT">
    	</return>
		 select * from bidashboard where UserName=? 
    </sql-query>     
    <sql-query name="spBIgetUserDashboards" callable="true">
	    <return class="aip.common.dashboard.DashboardENT">
	    </return>
		{call spBIgetUserDashboards(?,?)}    
    </sql-query>
    
    <sql-query name="fnSECUserHasRole">
    	<return-scalar type="java.lang.Boolean" column="HasRole"/>
		select fnSECUserHasRole(?,?) as HasRole			
    </sql-query>
    
    <sql-query name="spBIGetDashboard" callable="true">
    	<return class="aip.common.dashboard.DashboardENT">
    	</return>
    	{call spBIGetDashboard(?,?,?)}
    </sql-query>
        <sql-query name="sqlGetGroupDashboards">
   		select GROUP_CONCAT(distinct d.DashboardNo SEPARATOR ',') 
   		from bidashboard d 
   		where d.F_SCGroupID=?	
    </sql-query>
    
</hibernate-mapping>
